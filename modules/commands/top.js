module.exports.config={name:"top",version:"1.0.0",hasPermssion:0,credits:"ManhG",description:"Xem nhá»¯ng Ä‘á»©a láº¯m má»“m nháº¥t quáº£ Ä‘áº¥t",commandCategory:"Tiá»‡n Ã­ch",usages:"[thread/user/money]",cooldowns:5},module.exports.run=async({event:e,api:n,args:t,Currencies:s,Users:a})=>{const{threadID:o,messageID:r}=e;if(t[1]&&isNaN(t[1])||parseInt(t[1])<=0)return n.sendMessage("thÃ´ng tin Ä‘á»™ dÃ i list pháº£i lÃ  má»™t con sá»‘ vÃ  khÃ´ng dÆ°á»›i 0",e.threadID,e.messageID);var i=parseInt(t[1]||20),g="";if("thread"==t[0]||"-t"==t[0]){var m=[];try{h=await n.getThreadList(i,null,["INBOX"])}catch(e){console.log(e)}for(const e of h)1==e.isGroup&&m.push({threadName:e.name,threadID:e.threadID,messageCount:e.messageCount});m.sort(((e,n)=>e.messageCount>n.messageCount?-1:e.messageCount<n.messageCount?1:void 0));var l=0;for(const e of m){if(l==i)break;g+=`${l+1}. ${e.threadName||"KhÃ´ng tÃªn"}[${e.threadID}] vá»›i ${e.messageCount} tin nháº¯n\n`,l+=1}return n.sendMessage(`DÆ°á»›i Ä‘Ã¢y lÃ  top ${m.length} cÃ¡c nhÃ³m láº¯m má»“m nháº¥t quáº£ Ä‘áº¥t:\n\n${g}`,o,r)}if("user"==t[0]||"-u"==t[0]){g="",l=0;try{h=await s.getAll(["userID","exp"])}catch(e){console.log(e)}h.sort(((e,n)=>e.exp>n.exp?-1:e.exp<n.exp?1:void 0)),h.length<i&&(i=h.length);const e=global.data.botID;h=h.filter((n=>n.userID!=e));for(const e of h){if(l==i)break;g+=`${l+1}. ${(await a.getData(e.userID)).name} vá»›i ${e.exp} tin nháº¯n\n`,l+=1}return n.sendMessage(`DÆ°á»›i Ä‘Ã¢y lÃ  top ${i} cÃ¡c ngÆ°á»i dÃ¹ng láº¯m má»“m nháº¥t quáº£ Ä‘áº¥t:\n\n${g}`,o,r)}if("money"==t[0]||"-m"==t[0]){var h;g="",l=0;try{h=await s.getAll(["userID","money"])}catch(e){console.log(e)}h.sort(((e,n)=>e.money>n.money?-1:e.money<n.money?1:void 0)),h.length<i&&(i=h.length);const e=global.data.botID;h=h.filter((n=>n.userID!=e));for(const e of h){if(l==i)break;g+=`${l+1}. ${(await a.getData(e.userID)).name} vá»›i ${e.money} Ä‘Ã´\n`,l+=1}return n.sendMessage(`DÆ°á»›i Ä‘Ã¢y lÃ  top ${i} cÃ¡c ngÆ°á»i dÃ¹ng giÃ u nháº¥t quáº£ Ä‘áº¥tğŸ¤‘ğŸ¤‘ğŸ¤‘:\n\n${g}\nâš ï¸Tiá»n Ä‘Æ°á»£c reset má»—i Ä‘áº§u tuáº§n. Xin cáº£m Æ¡nâš ï¸`,o,r)}return global.utils.throwError(this.config.name,o,r)};
